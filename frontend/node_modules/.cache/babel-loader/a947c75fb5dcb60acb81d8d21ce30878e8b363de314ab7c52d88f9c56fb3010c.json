{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\colli\\\\Desktop\\\\localmarket\\\\frontend\\\\src\\\\components\\\\ImageUpload.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useCallback, useRef } from 'react';\nimport axios from 'axios';\nimport styled from 'styled-components';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UploadContainer = styled.div`\n  margin-bottom: 2rem;\n`;\n_c = UploadContainer;\nconst DropZone = styled.div`\n  border: 2px dashed ${props => props.isDragActive ? 'var(--primary-green)' : 'var(--border-light)'};\n  border-radius: 1rem;\n  padding: 3rem 2rem;\n  text-align: center;\n  background: ${props => props.isDragActive ? 'var(--secondary-green)' : 'var(--natural-beige)'};\n  cursor: pointer;\n  transition: all 0.2s;\n  position: relative;\n  min-height: 200px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n\n  &:hover {\n    border-color: var(--primary-green);\n    background: var(--secondary-green);\n  }\n\n  .upload-icon {\n    font-size: 3rem;\n    margin-bottom: 1rem;\n    opacity: 0.7;\n  }\n\n  .upload-text {\n    color: var(--text-dark);\n    font-size: 1.125rem;\n    font-weight: 500;\n    margin-bottom: 0.5rem;\n  }\n\n  .upload-subtext {\n    color: var(--text-light);\n    font-size: 0.875rem;\n    margin-bottom: 1rem;\n  }\n\n  .file-requirements {\n    color: var(--text-light);\n    font-size: 0.75rem;\n    line-height: 1.4;\n  }\n\n  input[type=\"file\"] {\n    position: absolute;\n    opacity: 0;\n    width: 100%;\n    height: 100%;\n    cursor: pointer;\n  }\n`;\n_c2 = DropZone;\nconst ImageGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\n  gap: 1rem;\n  margin-top: 1.5rem;\n`;\n_c3 = ImageGrid;\nconst ImagePreview = styled.div`\n  position: relative;\n  aspect-ratio: 1;\n  border-radius: 0.5rem;\n  overflow: hidden;\n  background: white;\n  border: 2px solid ${props => props.isFeatured ? 'var(--primary-green)' : 'var(--border-light)'};\n  cursor: grab;\n\n  &:active {\n    cursor: grabbing;\n  }\n\n  img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n\n  .image-overlay {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: rgba(0, 0, 0, 0.7);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    opacity: 0;\n    transition: opacity 0.2s;\n    \n    &:hover {\n      opacity: 1;\n    }\n  }\n\n  .image-actions {\n    display: flex;\n    gap: 0.5rem;\n\n    button {\n      padding: 0.5rem;\n      border: none;\n      border-radius: 0.25rem;\n      cursor: pointer;\n      font-size: 0.875rem;\n      color: white;\n      font-weight: 500;\n\n      &.delete {\n        background: #ef4444;\n      }\n\n      &.feature {\n        background: var(--primary-green);\n      }\n    }\n  }\n\n  .featured-badge {\n    position: absolute;\n    top: 0.5rem;\n    left: 0.5rem;\n    background: var(--primary-green);\n    color: white;\n    padding: 0.25rem 0.5rem;\n    border-radius: 1rem;\n    font-size: 0.75rem;\n    font-weight: 600;\n  }\n\n  .drag-handle {\n    position: absolute;\n    top: 0.5rem;\n    right: 0.5rem;\n    background: rgba(0, 0, 0, 0.7);\n    color: white;\n    padding: 0.25rem;\n    border-radius: 0.25rem;\n    font-size: 1rem;\n    cursor: grab;\n  }\n`;\n_c4 = ImagePreview;\nconst UploadProgress = styled.div`\n  margin-top: 1rem;\n  padding: 1rem;\n  background: var(--natural-beige);\n  border-radius: 0.5rem;\n\n  .progress-bar {\n    width: 100%;\n    height: 8px;\n    background: var(--border-light);\n    border-radius: 4px;\n    overflow: hidden;\n    margin-top: 0.5rem;\n\n    .progress-fill {\n      height: 100%;\n      background: var(--primary-green);\n      transition: width 0.3s;\n    }\n  }\n`;\n_c5 = UploadProgress;\nconst ErrorMessage = styled.div`\n  background: #fee2e2;\n  color: #dc2626;\n  padding: 0.75rem;\n  border-radius: 0.5rem;\n  border: 1px solid #fecaca;\n  font-size: 0.875rem;\n  margin-top: 1rem;\n`;\n_c6 = ErrorMessage;\nconst ImageUpload = ({\n  images = [],\n  onImagesChange,\n  maxImages = 10\n}) => {\n  _s();\n  const [isDragActive, setIsDragActive] = useState(false);\n  const [uploading, setUploading] = useState(false);\n  const [uploadProgress, setUploadProgress] = useState(0);\n  const [error, setError] = useState('');\n  const fileInputRef = useRef();\n  const validateFile = file => {\n    const allowedTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/webp'];\n    const maxSize = 5 * 1024 * 1024; // 5MB\n\n    if (!allowedTypes.includes(file.type)) {\n      return 'Only JPEG, PNG, and WebP formats are allowed';\n    }\n    if (file.size > maxSize) {\n      return 'File size must be less than 5MB';\n    }\n    return null;\n  };\n  const uploadFiles = async files => {\n    setError('');\n    setUploading(true);\n    setUploadProgress(0);\n    try {\n      const formData = new FormData();\n      for (let file of files) {\n        const validationError = validateFile(file);\n        if (validationError) {\n          setError(validationError);\n          setUploading(false);\n          return;\n        }\n        formData.append('images', file);\n      }\n      const response = await axios.post('/api/upload/product-images', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        },\n        onUploadProgress: progressEvent => {\n          const progress = Math.round(progressEvent.loaded * 100 / progressEvent.total);\n          setUploadProgress(progress);\n        }\n      });\n      const newImages = response.data.images.map((img, index) => ({\n        url: img.url,\n        filename: img.filename,\n        isFeatured: images.length === 0 && index === 0 // First image of empty gallery becomes featured\n      }));\n      onImagesChange([...images, ...newImages]);\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Upload error:', error);\n      setError(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Upload failed');\n    } finally {\n      setUploading(false);\n      setUploadProgress(0);\n    }\n  };\n  const handleDrop = useCallback(e => {\n    e.preventDefault();\n    setIsDragActive(false);\n    const files = Array.from(e.dataTransfer.files);\n    if (images.length + files.length > maxImages) {\n      setError(`Maximum ${maxImages} images allowed`);\n      return;\n    }\n    if (files.length > 0) {\n      uploadFiles(files);\n    }\n  }, [images.length, maxImages]);\n  const handleDragOver = useCallback(e => {\n    e.preventDefault();\n    setIsDragActive(true);\n  }, []);\n  const handleDragLeave = useCallback(e => {\n    e.preventDefault();\n    setIsDragActive(false);\n  }, []);\n  const handleFileSelect = e => {\n    const files = Array.from(e.target.files);\n    if (images.length + files.length > maxImages) {\n      setError(`Maximum ${maxImages} images allowed`);\n      return;\n    }\n    if (files.length > 0) {\n      uploadFiles(files);\n    }\n\n    // Reset input\n    e.target.value = '';\n  };\n  const handleDeleteImage = async index => {\n    const imageToDelete = images[index];\n    try {\n      if (imageToDelete.filename) {\n        await axios.delete(`/api/upload/image/${imageToDelete.filename}`);\n      }\n      const updatedImages = images.filter((_, i) => i !== index);\n\n      // If we deleted the featured image and there are still images, make the first one featured\n      if (imageToDelete.isFeatured && updatedImages.length > 0) {\n        updatedImages[0].isFeatured = true;\n      }\n      onImagesChange(updatedImages);\n    } catch (error) {\n      console.error('Delete error:', error);\n      setError('Failed to delete image');\n    }\n  };\n  const handleSetFeatured = index => {\n    const updatedImages = images.map((img, i) => ({\n      ...img,\n      isFeatured: i === index\n    }));\n    onImagesChange(updatedImages);\n  };\n  const moveImage = (fromIndex, toIndex) => {\n    const updatedImages = [...images];\n    const [movedImage] = updatedImages.splice(fromIndex, 1);\n    updatedImages.splice(toIndex, 0, movedImage);\n    onImagesChange(updatedImages);\n  };\n  const handleDragStart = (e, index) => {\n    e.dataTransfer.setData('text/plain', index);\n  };\n  const handleImageDrop = (e, toIndex) => {\n    e.preventDefault();\n    const fromIndex = parseInt(e.dataTransfer.getData('text/plain'));\n    if (fromIndex !== toIndex) {\n      moveImage(fromIndex, toIndex);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(UploadContainer, {\n    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n      style: {\n        marginBottom: '1rem',\n        color: 'var(--text-dark)'\n      },\n      children: [\"Product Images \", images.length > 0 && `(${images.length}/${maxImages})`]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 7\n    }, this), images.length < maxImages && /*#__PURE__*/_jsxDEV(DropZone, {\n      isDragActive: isDragActive,\n      onDrop: handleDrop,\n      onDragOver: handleDragOver,\n      onDragLeave: handleDragLeave,\n      onClick: () => {\n        var _fileInputRef$current;\n        return (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        ref: fileInputRef,\n        type: \"file\",\n        multiple: true,\n        accept: \"image/jpeg,image/jpg,image/png,image/webp\",\n        onChange: handleFileSelect\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"upload-icon\",\n        children: \"\\uD83D\\uDCF7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"upload-text\",\n        children: isDragActive ? 'Drop images here' : 'Drag & drop images or click to browse'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"upload-subtext\",\n        children: [\"Upload up to \", maxImages, \" high-quality images\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"file-requirements\",\n        children: [\"\\u2022 Supported formats: JPEG, PNG, WebP\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 49\n        }, this), \"\\u2022 Maximum size: 5MB per image\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 42\n        }, this), \"\\u2022 First image will be your featured photo\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 9\n    }, this), uploading && /*#__PURE__*/_jsxDEV(UploadProgress, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Uploading images... \", uploadProgress, \"%\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"progress-bar\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"progress-fill\",\n          style: {\n            width: `${uploadProgress}%`\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 9\n    }, this), error && /*#__PURE__*/_jsxDEV(ErrorMessage, {\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 395,\n      columnNumber: 9\n    }, this), images.length > 0 && /*#__PURE__*/_jsxDEV(ImageGrid, {\n      children: images.map((image, index) => /*#__PURE__*/_jsxDEV(ImagePreview, {\n        isFeatured: image.isFeatured,\n        draggable: true,\n        onDragStart: e => handleDragStart(e, index),\n        onDragOver: e => e.preventDefault(),\n        onDrop: e => handleImageDrop(e, index),\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: image.url,\n          alt: `Product ${index + 1}`,\n          onError: e => {\n            e.target.src = '/placeholder-image.png';\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 15\n        }, this), image.isFeatured && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"featured-badge\",\n          children: \"Featured\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 418,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"drag-handle\",\n          children: \"\\u22EE\\u22EE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"image-overlay\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"image-actions\",\n            children: [!image.isFeatured && /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"feature\",\n              onClick: () => handleSetFeatured(index),\n              children: \"Set Featured\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 426,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"delete\",\n              onClick: () => handleDeleteImage(index),\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 433,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 424,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 15\n        }, this)]\n      }, `${image.filename}-${index}`, true, {\n        fileName: _jsxFileName,\n        lineNumber: 401,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 399,\n      columnNumber: 9\n    }, this), images.length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        fontSize: '0.875rem',\n        color: 'var(--text-light)',\n        marginTop: '1rem',\n        textAlign: 'center'\n      },\n      children: \"\\uD83D\\uDCA1 Tip: Drag images to reorder them. The featured image appears first in search results.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 447,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 346,\n    columnNumber: 5\n  }, this);\n};\n_s(ImageUpload, \"ZEq0YMnVCRPIlItkkV51eAsEu6A=\");\n_c7 = ImageUpload;\nexport default ImageUpload;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n$RefreshReg$(_c, \"UploadContainer\");\n$RefreshReg$(_c2, \"DropZone\");\n$RefreshReg$(_c3, \"ImageGrid\");\n$RefreshReg$(_c4, \"ImagePreview\");\n$RefreshReg$(_c5, \"UploadProgress\");\n$RefreshReg$(_c6, \"ErrorMessage\");\n$RefreshReg$(_c7, \"ImageUpload\");","map":{"version":3,"names":["React","useState","useCallback","useRef","axios","styled","jsxDEV","_jsxDEV","UploadContainer","div","_c","DropZone","props","isDragActive","_c2","ImageGrid","_c3","ImagePreview","isFeatured","_c4","UploadProgress","_c5","ErrorMessage","_c6","ImageUpload","images","onImagesChange","maxImages","_s","setIsDragActive","uploading","setUploading","uploadProgress","setUploadProgress","error","setError","fileInputRef","validateFile","file","allowedTypes","maxSize","includes","type","size","uploadFiles","files","formData","FormData","validationError","append","response","post","headers","onUploadProgress","progressEvent","progress","Math","round","loaded","total","newImages","data","map","img","index","url","filename","length","_error$response","_error$response$data","console","message","handleDrop","e","preventDefault","Array","from","dataTransfer","handleDragOver","handleDragLeave","handleFileSelect","target","value","handleDeleteImage","imageToDelete","delete","updatedImages","filter","_","i","handleSetFeatured","moveImage","fromIndex","toIndex","movedImage","splice","handleDragStart","setData","handleImageDrop","parseInt","getData","children","style","marginBottom","color","fileName","_jsxFileName","lineNumber","columnNumber","onDrop","onDragOver","onDragLeave","onClick","_fileInputRef$current","current","click","ref","multiple","accept","onChange","className","width","image","draggable","onDragStart","src","alt","onError","fontSize","marginTop","textAlign","_c7","$RefreshReg$"],"sources":["C:/Users/colli/Desktop/localmarket/frontend/src/components/ImageUpload.js"],"sourcesContent":["import React, { useState, useCallback, useRef } from 'react';\nimport axios from 'axios';\nimport styled from 'styled-components';\n\nconst UploadContainer = styled.div`\n  margin-bottom: 2rem;\n`;\n\nconst DropZone = styled.div`\n  border: 2px dashed ${props => props.isDragActive ? 'var(--primary-green)' : 'var(--border-light)'};\n  border-radius: 1rem;\n  padding: 3rem 2rem;\n  text-align: center;\n  background: ${props => props.isDragActive ? 'var(--secondary-green)' : 'var(--natural-beige)'};\n  cursor: pointer;\n  transition: all 0.2s;\n  position: relative;\n  min-height: 200px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n\n  &:hover {\n    border-color: var(--primary-green);\n    background: var(--secondary-green);\n  }\n\n  .upload-icon {\n    font-size: 3rem;\n    margin-bottom: 1rem;\n    opacity: 0.7;\n  }\n\n  .upload-text {\n    color: var(--text-dark);\n    font-size: 1.125rem;\n    font-weight: 500;\n    margin-bottom: 0.5rem;\n  }\n\n  .upload-subtext {\n    color: var(--text-light);\n    font-size: 0.875rem;\n    margin-bottom: 1rem;\n  }\n\n  .file-requirements {\n    color: var(--text-light);\n    font-size: 0.75rem;\n    line-height: 1.4;\n  }\n\n  input[type=\"file\"] {\n    position: absolute;\n    opacity: 0;\n    width: 100%;\n    height: 100%;\n    cursor: pointer;\n  }\n`;\n\nconst ImageGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\n  gap: 1rem;\n  margin-top: 1.5rem;\n`;\n\nconst ImagePreview = styled.div`\n  position: relative;\n  aspect-ratio: 1;\n  border-radius: 0.5rem;\n  overflow: hidden;\n  background: white;\n  border: 2px solid ${props => props.isFeatured ? 'var(--primary-green)' : 'var(--border-light)'};\n  cursor: grab;\n\n  &:active {\n    cursor: grabbing;\n  }\n\n  img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n\n  .image-overlay {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: rgba(0, 0, 0, 0.7);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    opacity: 0;\n    transition: opacity 0.2s;\n    \n    &:hover {\n      opacity: 1;\n    }\n  }\n\n  .image-actions {\n    display: flex;\n    gap: 0.5rem;\n\n    button {\n      padding: 0.5rem;\n      border: none;\n      border-radius: 0.25rem;\n      cursor: pointer;\n      font-size: 0.875rem;\n      color: white;\n      font-weight: 500;\n\n      &.delete {\n        background: #ef4444;\n      }\n\n      &.feature {\n        background: var(--primary-green);\n      }\n    }\n  }\n\n  .featured-badge {\n    position: absolute;\n    top: 0.5rem;\n    left: 0.5rem;\n    background: var(--primary-green);\n    color: white;\n    padding: 0.25rem 0.5rem;\n    border-radius: 1rem;\n    font-size: 0.75rem;\n    font-weight: 600;\n  }\n\n  .drag-handle {\n    position: absolute;\n    top: 0.5rem;\n    right: 0.5rem;\n    background: rgba(0, 0, 0, 0.7);\n    color: white;\n    padding: 0.25rem;\n    border-radius: 0.25rem;\n    font-size: 1rem;\n    cursor: grab;\n  }\n`;\n\nconst UploadProgress = styled.div`\n  margin-top: 1rem;\n  padding: 1rem;\n  background: var(--natural-beige);\n  border-radius: 0.5rem;\n\n  .progress-bar {\n    width: 100%;\n    height: 8px;\n    background: var(--border-light);\n    border-radius: 4px;\n    overflow: hidden;\n    margin-top: 0.5rem;\n\n    .progress-fill {\n      height: 100%;\n      background: var(--primary-green);\n      transition: width 0.3s;\n    }\n  }\n`;\n\nconst ErrorMessage = styled.div`\n  background: #fee2e2;\n  color: #dc2626;\n  padding: 0.75rem;\n  border-radius: 0.5rem;\n  border: 1px solid #fecaca;\n  font-size: 0.875rem;\n  margin-top: 1rem;\n`;\n\nconst ImageUpload = ({ images = [], onImagesChange, maxImages = 10 }) => {\n  const [isDragActive, setIsDragActive] = useState(false);\n  const [uploading, setUploading] = useState(false);\n  const [uploadProgress, setUploadProgress] = useState(0);\n  const [error, setError] = useState('');\n  const fileInputRef = useRef();\n\n  const validateFile = (file) => {\n    const allowedTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/webp'];\n    const maxSize = 5 * 1024 * 1024; // 5MB\n\n    if (!allowedTypes.includes(file.type)) {\n      return 'Only JPEG, PNG, and WebP formats are allowed';\n    }\n\n    if (file.size > maxSize) {\n      return 'File size must be less than 5MB';\n    }\n\n    return null;\n  };\n\n  const uploadFiles = async (files) => {\n    setError('');\n    setUploading(true);\n    setUploadProgress(0);\n\n    try {\n      const formData = new FormData();\n      \n      for (let file of files) {\n        const validationError = validateFile(file);\n        if (validationError) {\n          setError(validationError);\n          setUploading(false);\n          return;\n        }\n        formData.append('images', file);\n      }\n\n      const response = await axios.post('/api/upload/product-images', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n        onUploadProgress: (progressEvent) => {\n          const progress = Math.round((progressEvent.loaded * 100) / progressEvent.total);\n          setUploadProgress(progress);\n        },\n      });\n\n      const newImages = response.data.images.map((img, index) => ({\n        url: img.url,\n        filename: img.filename,\n        isFeatured: images.length === 0 && index === 0 // First image of empty gallery becomes featured\n      }));\n\n      onImagesChange([...images, ...newImages]);\n      \n    } catch (error) {\n      console.error('Upload error:', error);\n      setError(error.response?.data?.message || 'Upload failed');\n    } finally {\n      setUploading(false);\n      setUploadProgress(0);\n    }\n  };\n\n  const handleDrop = useCallback((e) => {\n    e.preventDefault();\n    setIsDragActive(false);\n\n    const files = Array.from(e.dataTransfer.files);\n    \n    if (images.length + files.length > maxImages) {\n      setError(`Maximum ${maxImages} images allowed`);\n      return;\n    }\n\n    if (files.length > 0) {\n      uploadFiles(files);\n    }\n  }, [images.length, maxImages]);\n\n  const handleDragOver = useCallback((e) => {\n    e.preventDefault();\n    setIsDragActive(true);\n  }, []);\n\n  const handleDragLeave = useCallback((e) => {\n    e.preventDefault();\n    setIsDragActive(false);\n  }, []);\n\n  const handleFileSelect = (e) => {\n    const files = Array.from(e.target.files);\n    \n    if (images.length + files.length > maxImages) {\n      setError(`Maximum ${maxImages} images allowed`);\n      return;\n    }\n\n    if (files.length > 0) {\n      uploadFiles(files);\n    }\n\n    // Reset input\n    e.target.value = '';\n  };\n\n  const handleDeleteImage = async (index) => {\n    const imageToDelete = images[index];\n    \n    try {\n      if (imageToDelete.filename) {\n        await axios.delete(`/api/upload/image/${imageToDelete.filename}`);\n      }\n\n      const updatedImages = images.filter((_, i) => i !== index);\n      \n      // If we deleted the featured image and there are still images, make the first one featured\n      if (imageToDelete.isFeatured && updatedImages.length > 0) {\n        updatedImages[0].isFeatured = true;\n      }\n\n      onImagesChange(updatedImages);\n    } catch (error) {\n      console.error('Delete error:', error);\n      setError('Failed to delete image');\n    }\n  };\n\n  const handleSetFeatured = (index) => {\n    const updatedImages = images.map((img, i) => ({\n      ...img,\n      isFeatured: i === index\n    }));\n    onImagesChange(updatedImages);\n  };\n\n  const moveImage = (fromIndex, toIndex) => {\n    const updatedImages = [...images];\n    const [movedImage] = updatedImages.splice(fromIndex, 1);\n    updatedImages.splice(toIndex, 0, movedImage);\n    onImagesChange(updatedImages);\n  };\n\n  const handleDragStart = (e, index) => {\n    e.dataTransfer.setData('text/plain', index);\n  };\n\n  const handleImageDrop = (e, toIndex) => {\n    e.preventDefault();\n    const fromIndex = parseInt(e.dataTransfer.getData('text/plain'));\n    if (fromIndex !== toIndex) {\n      moveImage(fromIndex, toIndex);\n    }\n  };\n\n  return (\n    <UploadContainer>\n      <h4 style={{ marginBottom: '1rem', color: 'var(--text-dark)' }}>\n        Product Images {images.length > 0 && `(${images.length}/${maxImages})`}\n      </h4>\n\n      {images.length < maxImages && (\n        <DropZone\n          isDragActive={isDragActive}\n          onDrop={handleDrop}\n          onDragOver={handleDragOver}\n          onDragLeave={handleDragLeave}\n          onClick={() => fileInputRef.current?.click()}\n        >\n          <input\n            ref={fileInputRef}\n            type=\"file\"\n            multiple\n            accept=\"image/jpeg,image/jpg,image/png,image/webp\"\n            onChange={handleFileSelect}\n          />\n          \n          <div className=\"upload-icon\">ðŸ“·</div>\n          <div className=\"upload-text\">\n            {isDragActive ? 'Drop images here' : 'Drag & drop images or click to browse'}\n          </div>\n          <div className=\"upload-subtext\">\n            Upload up to {maxImages} high-quality images\n          </div>\n          <div className=\"file-requirements\">\n            â€¢ Supported formats: JPEG, PNG, WebP<br/>\n            â€¢ Maximum size: 5MB per image<br/>\n            â€¢ First image will be your featured photo\n          </div>\n        </DropZone>\n      )}\n\n      {uploading && (\n        <UploadProgress>\n          <div>Uploading images... {uploadProgress}%</div>\n          <div className=\"progress-bar\">\n            <div \n              className=\"progress-fill\" \n              style={{ width: `${uploadProgress}%` }}\n            />\n          </div>\n        </UploadProgress>\n      )}\n\n      {error && (\n        <ErrorMessage>{error}</ErrorMessage>\n      )}\n\n      {images.length > 0 && (\n        <ImageGrid>\n          {images.map((image, index) => (\n            <ImagePreview\n              key={`${image.filename}-${index}`}\n              isFeatured={image.isFeatured}\n              draggable\n              onDragStart={(e) => handleDragStart(e, index)}\n              onDragOver={(e) => e.preventDefault()}\n              onDrop={(e) => handleImageDrop(e, index)}\n            >\n              <img \n                src={image.url} \n                alt={`Product ${index + 1}`}\n                onError={(e) => {\n                  e.target.src = '/placeholder-image.png';\n                }}\n              />\n              \n              {image.isFeatured && (\n                <div className=\"featured-badge\">Featured</div>\n              )}\n              \n              <div className=\"drag-handle\">â‹®â‹®</div>\n              \n              <div className=\"image-overlay\">\n                <div className=\"image-actions\">\n                  {!image.isFeatured && (\n                    <button \n                      className=\"feature\"\n                      onClick={() => handleSetFeatured(index)}\n                    >\n                      Set Featured\n                    </button>\n                  )}\n                  <button \n                    className=\"delete\"\n                    onClick={() => handleDeleteImage(index)}\n                  >\n                    Delete\n                  </button>\n                </div>\n              </div>\n            </ImagePreview>\n          ))}\n        </ImageGrid>\n      )}\n\n      {images.length > 0 && (\n        <p style={{ \n          fontSize: '0.875rem', \n          color: 'var(--text-light)', \n          marginTop: '1rem',\n          textAlign: 'center'\n        }}>\n          ðŸ’¡ Tip: Drag images to reorder them. The featured image appears first in search results.\n        </p>\n      )}\n    </UploadContainer>\n  );\n};\n\nexport default ImageUpload;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,WAAW,EAAEC,MAAM,QAAQ,OAAO;AAC5D,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,mBAAmB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEvC,MAAMC,eAAe,GAAGH,MAAM,CAACI,GAAG;AAClC;AACA,CAAC;AAACC,EAAA,GAFIF,eAAe;AAIrB,MAAMG,QAAQ,GAAGN,MAAM,CAACI,GAAG;AAC3B,uBAAuBG,KAAK,IAAIA,KAAK,CAACC,YAAY,GAAG,sBAAsB,GAAG,qBAAqB;AACnG;AACA;AACA;AACA,gBAAgBD,KAAK,IAAIA,KAAK,CAACC,YAAY,GAAG,wBAAwB,GAAG,sBAAsB;AAC/F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GApDIH,QAAQ;AAsDd,MAAMI,SAAS,GAAGV,MAAM,CAACI,GAAG;AAC5B;AACA;AACA;AACA;AACA,CAAC;AAACO,GAAA,GALID,SAAS;AAOf,MAAME,YAAY,GAAGZ,MAAM,CAACI,GAAG;AAC/B;AACA;AACA;AACA;AACA;AACA,sBAAsBG,KAAK,IAAIA,KAAK,CAACM,UAAU,GAAG,sBAAsB,GAAG,qBAAqB;AAChG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}